/*! For license information please see 579.58071fa4.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkinkwell_frontend=self.webpackChunkinkwell_frontend||[]).push([[579],{1680:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},2574:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},4265:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},4579:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});var t=a(8),r=a(5043),d=a(3216),l=a(5475),i=a(9490),c=a(2811),n=a(1360);const o=(0,a(1639).A)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var x=a(1680),m=a(2626),h=a(3528),y=a(7365),g=a(5087),p=a(4918),b=a(2574),u=a(4265),k=a(9855),j=a(8693),N=a(5727),v=a(4858),w=a(9643),f=a(2339),A=a(6536),P=a(5016),C=a(579);const S=()=>{var e,s,a,S;const{user:_,updateProfile:L,changePassword:V}=(0,P.A)(),[M,T]=((0,d.Zp)(),(0,l.ok)()),[z,D]=(0,r.useState)(M.get("tab")||"overview"),[q,B]=(0,r.useState)([]),[F,E]=(0,r.useState)([]),[H,I]=(0,r.useState)([]),[W,Z]=(0,r.useState)(!0),[G,O]=(0,r.useState)({totalPosts:0,publishedPosts:0,draftPosts:0,totalViews:0,totalLikes:0,totalComments:0}),{register:R,handleSubmit:J,formState:{errors:K}}=(0,v.mN)(),{register:Q,handleSubmit:U,formState:{errors:X},reset:Y}=(0,v.mN)(),$=(0,r.useCallback)(async()=>{try{Z(!0);const e=await A.A.get("/api/posts/user/published");B(e.data.posts);const s=await A.A.get("/api/posts/user/drafts");E(s.data.posts);const a=await A.A.get("/api/users/".concat(_._id,"/bookmarks"));I(a.data.bookmarks);const t=[...e.data.posts,...s.data.posts],r=t.reduce((e,s)=>e+(s.viewCount||0),0),d=t.reduce((e,s)=>e+(s.likeCount||0),0),l=t.reduce((e,s)=>e+(s.commentCount||0),0);O({totalPosts:t.length,publishedPosts:e.data.posts.length,draftPosts:s.data.posts.length,totalViews:r,totalLikes:d,totalComments:l})}catch(e){console.error("Error fetching dashboard data:",e),f.Ay.error("Failed to load dashboard data")}finally{Z(!1)}},[_._id]);(0,r.useEffect)(()=>{$()},[$]),(0,r.useEffect)(()=>{T({tab:z})},[z,T]);const ee=async e=>{if(window.confirm("Are you sure you want to delete this post? This action cannot be undone."))try{await A.A.delete("/api/posts/".concat(e)),f.Ay.success("Post deleted successfully"),$()}catch(s){f.Ay.error("Failed to delete post")}};return W?(0,C.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,C.jsx)(w.A,{size:"xl"})}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(i.mg,{children:[(0,C.jsx)("title",{children:"Dashboard - InkWell"}),(0,C.jsx)("meta",{name:"description",content:"Manage your blog posts and account settings"})]}),(0,C.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),(0,C.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage your posts and account settings"})]}),(0,C.jsxs)(l.N_,{to:"/create-post",className:"btn-primary",children:[(0,C.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Create Post"]})]}),(0,C.jsx)("div",{className:"mb-8",children:(0,C.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,C.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:o},{id:"posts",label:"Published Posts".concat(G.publishedPosts?" (".concat(G.publishedPosts,")"):""),icon:x.A},{id:"drafts",label:"Drafts".concat(G.draftPosts?" (".concat(G.draftPosts,")"):""),icon:m.A},{id:"bookmarks",label:"Bookmarks".concat(H.length?" (".concat(H.length,")"):""),icon:h.A},{id:"settings",label:"Settings",icon:y.A}].map(e=>{const s=e.icon;return(0,C.jsxs)("button",{onClick:()=>D(e.id),className:"flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ".concat(z===e.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,C.jsx)(s,{className:"h-4 w-4"}),(0,C.jsx)("span",{children:e.label})]},e.id)})})})}),"overview"===z&&(0,C.jsxs)("div",{className:"space-y-6",children:[(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,C.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)("div",{className:"flex-shrink-0",children:(0,C.jsx)(x.A,{className:"h-8 w-8 text-primary-600"})}),(0,C.jsxs)("div",{className:"ml-4",children:[(0,C.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Posts"}),(0,C.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:G.totalPosts})]})]})}),(0,C.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)("div",{className:"flex-shrink-0",children:(0,C.jsx)(g.A,{className:"h-8 w-8 text-green-600"})}),(0,C.jsxs)("div",{className:"ml-4",children:[(0,C.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Views"}),(0,C.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:G.totalViews})]})]})}),(0,C.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)("div",{className:"flex-shrink-0",children:(0,C.jsx)(p.A,{className:"h-8 w-8 text-red-600"})}),(0,C.jsxs)("div",{className:"ml-4",children:[(0,C.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Likes"}),(0,C.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:G.totalLikes})]})]})}),(0,C.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)("div",{className:"flex-shrink-0",children:(0,C.jsx)(b.A,{className:"h-8 w-8 text-blue-600"})}),(0,C.jsxs)("div",{className:"ml-4",children:[(0,C.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Comments"}),(0,C.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:G.totalComments})]})]})})]}),(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,C.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,C.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Recent Posts"})}),(0,C.jsx)("div",{className:"p-6",children:q.length>0?(0,C.jsx)("div",{className:"space-y-4",children:q.slice(0,5).map(e=>(0,C.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,C.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(0,c.A)(new Date(e.createdAt),{addSuffix:!0})})]}),(0,C.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,C.jsx)(l.N_,{to:"/post/".concat(e.slug),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:(0,C.jsx)(g.A,{className:"h-4 w-4"})}),(0,C.jsx)(l.N_,{to:"/edit-post/".concat(e._id),className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:(0,C.jsx)(u.A,{className:"h-4 w-4"})})]})]},e._id))}):(0,C.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No posts yet. Create your first post to get started!"})})]})]}),"posts"===z&&(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,C.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,C.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Published Posts (",q.length,")"]})}),(0,C.jsx)("div",{className:"p-6",children:q.length>0?(0,C.jsx)("div",{className:"space-y-4",children:q.map(e=>(0,C.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,C.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400 mt-1",children:[(0,C.jsx)("span",{children:(0,c.A)(new Date(e.createdAt),{addSuffix:!0})}),(0,C.jsx)("span",{children:"\u2022"}),(0,C.jsxs)("span",{children:[e.viewCount||0," views"]}),(0,C.jsx)("span",{children:"\u2022"}),(0,C.jsxs)("span",{children:[e.likeCount||0," likes"]}),(0,C.jsx)("span",{children:"\u2022"}),(0,C.jsxs)("span",{children:[e.commentCount||0," comments"]})]})]}),(0,C.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,C.jsx)(l.N_,{to:"/post/".concat(e.slug),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:(0,C.jsx)(g.A,{className:"h-4 w-4"})}),(0,C.jsx)(l.N_,{to:"/edit-post/".concat(e._id),className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:(0,C.jsx)(u.A,{className:"h-4 w-4"})}),(0,C.jsx)("button",{onClick:()=>ee(e._id),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:(0,C.jsx)(k.A,{className:"h-4 w-4"})})]})]},e._id))}):(0,C.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No published posts yet."})})]}),"drafts"===z&&(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,C.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,C.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Draft Posts (",F.length,")"]})}),(0,C.jsx)("div",{className:"p-6",children:F.length>0?(0,C.jsx)("div",{className:"space-y-4",children:F.map(e=>(0,C.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,C.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Last updated"," ",(0,c.A)(new Date(e.updatedAt),{addSuffix:!0})]})]}),(0,C.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,C.jsx)(l.N_,{to:"/edit-post/".concat(e._id),className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:(0,C.jsx)(u.A,{className:"h-4 w-4"})}),(0,C.jsx)("button",{onClick:()=>ee(e._id),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:(0,C.jsx)(k.A,{className:"h-4 w-4"})})]})]},e._id))}):(0,C.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No draft posts yet."})})]}),"bookmarks"===z&&(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,C.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,C.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Bookmarked Posts (",H.length,")"]})}),(0,C.jsx)("div",{className:"p-6",children:H.length>0?(0,C.jsx)("div",{className:"space-y-4",children:H.map(e=>{var s;return(0,C.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,C.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["By ",null===(s=e.author)||void 0===s?void 0:s.username," \u2022"," ",(0,c.A)(new Date(e.createdAt),{addSuffix:!0})]})]}),(0,C.jsx)(l.N_,{to:"/post/".concat(e.slug),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:(0,C.jsx)(g.A,{className:"h-4 w-4"})})]},e._id)})}):(0,C.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No bookmarked posts yet."})})]}),"settings"===z&&(0,C.jsxs)("div",{className:"space-y-6",children:[(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,C.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,C.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Profile Settings"})}),(0,C.jsx)("div",{className:"p-6",children:(0,C.jsxs)("form",{onSubmit:J(async e=>{try{await L(e),f.Ay.success("Profile updated successfully")}catch(s){f.Ay.error("Failed to update profile")}}),className:"space-y-4",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),(0,C.jsx)("textarea",(0,t.A)((0,t.A)({},R("bio",{maxLength:{value:500,message:"Bio cannot exceed 500 characters"}})),{},{defaultValue:_.bio,rows:"3",className:"input",placeholder:"Tell us about yourself..."})),K.bio&&(0,C.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:K.bio.message})]}),(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website"}),(0,C.jsx)("input",(0,t.A)((0,t.A)({type:"url"},R("socialLinks.website")),{},{defaultValue:null===(e=_.socialLinks)||void 0===e?void 0:e.website,className:"input",placeholder:"https://yourwebsite.com"}))]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Twitter"}),(0,C.jsx)("input",(0,t.A)((0,t.A)({type:"text"},R("socialLinks.twitter")),{},{defaultValue:null===(s=_.socialLinks)||void 0===s?void 0:s.twitter,className:"input",placeholder:"@username"}))]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GitHub"}),(0,C.jsx)("input",(0,t.A)((0,t.A)({type:"text"},R("socialLinks.github")),{},{defaultValue:null===(a=_.socialLinks)||void 0===a?void 0:a.github,className:"input",placeholder:"username"}))]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LinkedIn"}),(0,C.jsx)("input",(0,t.A)((0,t.A)({type:"url"},R("socialLinks.linkedin")),{},{defaultValue:null===(S=_.socialLinks)||void 0===S?void 0:S.linkedin,className:"input",placeholder:"https://linkedin.com/in/username"}))]})]}),(0,C.jsxs)("button",{type:"submit",className:"btn-primary",children:[(0,C.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})})]}),(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,C.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,C.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Change Password"})}),(0,C.jsx)("div",{className:"p-6",children:(0,C.jsxs)("form",{onSubmit:U(async e=>{try{await V(e),Y(),f.Ay.success("Password changed successfully")}catch(s){f.Ay.error("Failed to change password")}}),className:"space-y-4",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),(0,C.jsx)("input",(0,t.A)((0,t.A)({type:"password"},Q("currentPassword",{required:"Current password is required"})),{},{className:"input",placeholder:"Enter current password"})),X.currentPassword&&(0,C.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:X.currentPassword.message})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),(0,C.jsx)("input",(0,t.A)((0,t.A)({type:"password"},Q("newPassword",{required:"New password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})),{},{className:"input",placeholder:"Enter new password"})),X.newPassword&&(0,C.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:X.newPassword.message})]}),(0,C.jsxs)("button",{type:"submit",className:"btn-primary",children:[(0,C.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Change Password"]})]})})]})]})]})]})}},5727:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},8693:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},9855:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=579.58071fa4.chunk.js.map
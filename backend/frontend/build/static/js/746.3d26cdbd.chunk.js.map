{"version":3,"file":"static/js/746.3d26cdbd.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/clock.ts","../node_modules/lucide-react/src/icons/share-2.ts","pages/PostDetail.jsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Share2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjUiIHI9IjMiIC8+CiAgPGNpcmNsZSBjeD0iNiIgY3k9IjEyIiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTkiIHI9IjMiIC8+CiAgPGxpbmUgeDE9IjguNTkiIHgyPSIxNS40MiIgeTE9IjEzLjUxIiB5Mj0iMTcuNDkiIC8+CiAgPGxpbmUgeDE9IjE1LjQxIiB4Mj0iOC41OSIgeTE9IjYuNTEiIHkyPSIxMC40OSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/share-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Share2 = createLucideIcon('Share2', [\n  ['circle', { cx: '18', cy: '5', r: '3', key: 'gq8acd' }],\n  ['circle', { cx: '6', cy: '12', r: '3', key: 'w7nqdw' }],\n  ['circle', { cx: '18', cy: '19', r: '3', key: '1xt0gg' }],\n  ['line', { x1: '8.59', x2: '15.42', y1: '13.51', y2: '17.49', key: '47mynk' }],\n  ['line', { x1: '15.41', x2: '8.59', y1: '6.51', y2: '10.49', key: '1n3mei' }],\n]);\n\nexport default Share2;\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { Heart, Bookmark, Share2, Calendar, Clock } from \"lucide-react\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\r\nimport toast from \"react-hot-toast\";\r\nimport api from \"../utils/api\";\r\n\r\nconst PostDetail = () => {\r\n  const { slug } = useParams();\r\n  const { user, isAuthenticated } = useAuth();\r\n  const [post, setPost] = useState(null);\r\n  const [comments, setComments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [newComment, setNewComment] = useState(\"\");\r\n  const [submittingComment, setSubmittingComment] = useState(false);\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const [isBookmarked, setIsBookmarked] = useState(false);\r\n  const [likeCount, setLikeCount] = useState(0);\r\n\r\n  const fetchComments = useCallback(async () => {\r\n    if (!post) return;\r\n    try {\r\n      const response = await api.get(`/api/posts/${post._id}/comments`);\r\n      setComments(\r\n        Array.isArray(response.data.comments) ? response.data.comments : []\r\n      );\r\n    } catch (err) {\r\n      console.error(\"Error fetching comments:\", err);\r\n      setComments([]);\r\n    }\r\n  }, [post]);\r\n\r\n  useEffect(() => {\r\n    const fetchPost = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await api.get(`/api/posts/${slug}`);\r\n        setPost(response.data.post);\r\n      } catch (error) {\r\n        console.error(\"Error fetching post:\", error);\r\n        setError(\"Post not found\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPost();\r\n  }, [slug]);\r\n\r\n  useEffect(() => {\r\n    if (post) {\r\n      fetchComments();\r\n    }\r\n  }, [post, fetchComments]);\r\n\r\n  useEffect(() => {\r\n    if (post && user) {\r\n      setIsLiked(post.likes?.includes(user._id));\r\n      setIsBookmarked(user.bookmarks?.includes(post._id));\r\n      setLikeCount(post.likeCount || 0);\r\n    }\r\n  }, [post, user]);\r\n\r\n  const handleLike = async () => {\r\n    if (!isAuthenticated) {\r\n      toast.error(\"Please login to like posts\");\r\n      return;\r\n    }\r\n    setIsLiked((prev) => !prev);\r\n    setLikeCount((prev) => (isLiked ? prev - 1 : prev + 1));\r\n    try {\r\n      await api.post(`/api/posts/${post._id}/like`);\r\n    } catch (err) {\r\n      setIsLiked((prev) => !prev);\r\n      setLikeCount((prev) => (isLiked ? prev + 1 : prev - 1));\r\n      toast.error(\"Failed to like post\");\r\n    }\r\n  };\r\n\r\n  const handleBookmark = async () => {\r\n    if (!isAuthenticated) {\r\n      toast.error(\"Please login to bookmark posts\");\r\n      return;\r\n    }\r\n    setIsBookmarked((prev) => !prev);\r\n    try {\r\n      await api.post(`/api/posts/${post._id}/bookmark`);\r\n    } catch (err) {\r\n      setIsBookmarked((prev) => !prev);\r\n      toast.error(\"Failed to update bookmark\");\r\n    }\r\n  };\r\n\r\n  const handleCommentSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!newComment.trim()) return;\r\n\r\n    setSubmittingComment(true);\r\n    try {\r\n      await api.post(\"/comments\", {\r\n        content: newComment,\r\n        postId: post._id,\r\n      });\r\n      setNewComment(\"\");\r\n      fetchComments();\r\n      toast.success(\"Comment added successfully\");\r\n    } catch (err) {\r\n      toast.error(\"Failed to add comment\");\r\n    } finally {\r\n      setSubmittingComment(false);\r\n    }\r\n  };\r\n\r\n  const handleShare = () => {\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: post.title,\r\n        text: post.excerpt,\r\n        url: window.location.href,\r\n      });\r\n    } else {\r\n      navigator.clipboard.writeText(window.location.href);\r\n      toast.success(\"Link copied to clipboard\");\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <LoadingSpinner size=\"xl\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !post) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\r\n            Post not found\r\n          </h2>\r\n          <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\r\n            The post you're looking for doesn't exist or has been removed.\r\n          </p>\r\n          <Link to=\"/\" className=\"btn-primary\">\r\n            Go Home\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{post.title} - InkWell</title>\r\n        <meta name=\"description\" content={post.excerpt} />\r\n        <meta property=\"og:title\" content={post.title} />\r\n        <meta property=\"og:description\" content={post.excerpt} />\r\n        {post.featuredImage && (\r\n          <meta property=\"og:image\" content={post.featuredImage} />\r\n        )}\r\n      </Helmet>\r\n\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Post Header */}\r\n        <article className=\"mb-8\">\r\n          {/* Featured Image */}\r\n          {post.featuredImage && (\r\n            <div className=\"mb-8\">\r\n              <img\r\n                src={post.featuredImage}\r\n                alt={post.title}\r\n                className=\"w-full h-64 md:h-96 object-cover rounded-lg\"\r\n                loading=\"lazy\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Title */}\r\n          <h1 className=\"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4\">\r\n            {post.title}\r\n          </h1>\r\n\r\n          {/* Meta Information */}\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <Link\r\n                to={`/profile/${post.author?.username}`}\r\n                className=\"flex items-center space-x-2 hover:text-primary-600 dark:hover:text-primary-400 transition-colors\"\r\n              >\r\n                {post.author?.avatar ? (\r\n                  <img\r\n                    src={post.author.avatar}\r\n                    alt={post.author.username}\r\n                    className=\"w-10 h-10 rounded-full\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center\">\r\n                    <span className=\"text-white font-medium\">\r\n                      {post.author?.username?.charAt(0).toUpperCase()}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n                <span className=\"font-medium text-gray-900 dark:text-white\">\r\n                  {post.author?.username}\r\n                </span>\r\n              </Link>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400\">\r\n              <div className=\"flex items-center space-x-1\">\r\n                <Calendar className=\"h-4 w-4\" />\r\n                <span>\r\n                  {formatDistanceToNow(new Date(post.createdAt), {\r\n                    addSuffix: true,\r\n                  })}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-1\">\r\n                <Clock className=\"h-4 w-4\" />\r\n                <span>{post.readTime || 5} min read</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Category and Tags */}\r\n          <div className=\"flex items-center space-x-4 mb-6\">\r\n            <span className=\"inline-block px-3 py-1 text-sm font-medium text-primary-600 bg-primary-100 dark:bg-primary-900/30 dark:text-primary-400 rounded-full\">\r\n              {post.category}\r\n            </span>\r\n            {post.tags && post.tags.length > 0 && (\r\n              <div className=\"flex items-center space-x-2\">\r\n                {post.tags.map((tag) => (\r\n                  <Link\r\n                    key={tag}\r\n                    to={`/search?tag=${tag}`}\r\n                    className=\"text-sm text-gray-500 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400\"\r\n                  >\r\n                    #{tag}\r\n                  </Link>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex items-center justify-between mb-8 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={handleLike}\r\n                className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${\r\n                  isLiked\r\n                    ? \"text-red-600 bg-red-100 dark:bg-red-900/30\"\r\n                    : \"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n                }`}\r\n              >\r\n                <Heart className={`h-5 w-5 ${isLiked ? \"fill-current\" : \"\"}`} />\r\n                <span>{likeCount}</span>\r\n              </button>\r\n\r\n              {isAuthenticated && (\r\n                <button\r\n                  onClick={handleBookmark}\r\n                  className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${\r\n                    isBookmarked\r\n                      ? \"text-primary-600 bg-primary-100 dark:bg-primary-900/30\"\r\n                      : \"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n                  }`}\r\n                >\r\n                  <Bookmark\r\n                    className={`h-5 w-5 ${isBookmarked ? \"fill-current\" : \"\"}`}\r\n                  />\r\n                  <span>Bookmark</span>\r\n                </button>\r\n              )}\r\n\r\n              <button\r\n                onClick={handleShare}\r\n                className=\"flex items-center space-x-2 px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n              >\r\n                <Share2 className=\"h-5 w-5\" />\r\n                <span>Share</span>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n              {post.viewCount || 0} views\r\n            </div>\r\n          </div>\r\n        </article>\r\n\r\n        {/* Post Content */}\r\n        <div className=\"prose prose-lg max-w-none dark:prose-invert mb-12\">\r\n          <ReactMarkdown>{post.content}</ReactMarkdown>\r\n        </div>\r\n\r\n        {/* Comments Section */}\r\n        <section className=\"mt-12\">\r\n          <h2 className=\"text-xl font-bold text-gray-900 dark:text-white mb-6\">\r\n            Comments\r\n          </h2>\r\n\r\n          {post.isPublished ? (\r\n            <form onSubmit={handleCommentSubmit} className=\"mb-8\">\r\n              <textarea\r\n                value={newComment}\r\n                onChange={(e) => setNewComment(e.target.value)}\r\n                placeholder=\"Add a comment...\"\r\n                rows={3}\r\n                className=\"w-full p-4 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n              />\r\n              <div className=\"mt-2 flex justify-end\">\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={submittingComment || !newComment.trim()}\r\n                  className=\"btn-primary\"\r\n                >\r\n                  {submittingComment ? \"Posting...\" : \"Post Comment\"}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          ) : (\r\n            <div className=\"mb-8 text-yellow-600 dark:text-yellow-400\">\r\n              Comments are only available on published posts.\r\n            </div>\r\n          )}\r\n\r\n          {/* Comments List */}\r\n          <div className=\"space-y-6\">\r\n            {Array.isArray(comments) &&\r\n              comments.map((comment) => (\r\n                <div\r\n                  key={comment._id}\r\n                  className=\"bg-gray-50 dark:bg-gray-800 rounded-lg p-4\"\r\n                >\r\n                  <div className=\"flex items-start space-x-3\">\r\n                    {comment.author?.avatar ? (\r\n                      <img\r\n                        src={comment.author.avatar}\r\n                        alt={comment.author.username}\r\n                        className=\"w-8 h-8 rounded-full\"\r\n                      />\r\n                    ) : (\r\n                      <div className=\"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center\">\r\n                        <span className=\"text-white text-sm font-medium\">\r\n                          {comment.author?.username?.charAt(0).toUpperCase()}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center space-x-2 mb-1\">\r\n                        <span className=\"font-medium text-gray-900 dark:text-white\">\r\n                          {comment.author?.username}\r\n                        </span>\r\n                        <span className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                          {formatDistanceToNow(new Date(comment.createdAt), {\r\n                            addSuffix: true,\r\n                          })}\r\n                        </span>\r\n                      </div>\r\n                      <p className=\"text-gray-700 dark:text-gray-300\">\r\n                        {comment.content}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n          </div>\r\n\r\n          {comments.length === 0 && (\r\n            <p className=\"text-center text-gray-500 dark:text-gray-400 py-8\">\r\n              No comments yet. Be the first to comment!\r\n            </p>\r\n          )}\r\n        </section>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostDetail;\r\n"],"names":["Clock","createLucideIcon","cx","cy","r","key","points","Share2","x1","x2","y1","y2","PostDetail","_post$author","_post$author2","_post$author3","_post$author3$usernam","_post$author4","slug","useParams","user","isAuthenticated","useAuth","post","setPost","useState","comments","setComments","loading","setLoading","error","setError","newComment","setNewComment","submittingComment","setSubmittingComment","isLiked","setIsLiked","isBookmarked","setIsBookmarked","likeCount","setLikeCount","fetchComments","useCallback","async","response","api","get","concat","_id","Array","isArray","data","err","console","useEffect","fetchPost","_post$likes","_user$bookmarks","likes","includes","bookmarks","_jsx","className","children","LoadingSpinner","size","_jsxs","Link","to","_Fragment","Helmet","title","name","content","excerpt","property","featuredImage","src","alt","author","username","avatar","charAt","toUpperCase","Calendar","formatDistanceToNow","Date","createdAt","addSuffix","readTime","category","tags","length","map","tag","onClick","prev","toast","Heart","Bookmark","handleShare","navigator","share","text","url","window","location","href","clipboard","writeText","success","viewCount","ReactMarkdown","isPublished","onSubmit","e","preventDefault","trim","postId","value","onChange","target","placeholder","rows","type","disabled","comment","_comment$author","_comment$author2","_comment$author2$user","_comment$author3"],"sourceRoot":""}